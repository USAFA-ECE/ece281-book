
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Lab 2 - Seven Segment Display Decoder &#8212; ECE 281</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/print.css?v=74670715" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/mermaid@11.2.0/dist/mermaid.esm.min.mjs"></script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/@mermaid-js/layout-elk@0.1.4/dist/mermaid-layout-elk.esm.min.mjs"></script>
    <script type="module">import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@11.2.0/dist/mermaid.esm.min.mjs";import elkLayouts from "https://cdn.jsdelivr.net/npm/@mermaid-js/layout-elk@0.1.4/dist/mermaid-layout-elk.esm.min.mjs";mermaid.registerLayoutLoaders(elkLayouts);mermaid.initialize({startOnLoad:false});</script>
    <script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script>
    <script type="module">
import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@11.2.0/dist/mermaid.esm.min.mjs";
window.addEventListener("load", () => mermaid.run());
</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'lab/lab2';</script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Lab 3 - Thunderbird Turn Signal" href="lab3.html" />
    <link rel="prev" title="Lab 1 - ThirtyOneDayMonth" href="lab1.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="ECE 281 - Home"/>
    <img src="../_static/logo.png" class="logo__image only-dark pst-js-only" alt="ECE 281 - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    ECE 281: Digital Design and Computer Architecture
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">In Class Exercise</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../ICE/ICE0.html">BCE 0: Get started with Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ICE/ICE1.html">ICE 1: OR Gates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ICE/ICE2.html">ICE 2: Half-Adder</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ICE/ICE3.html">ICE 3: Full Adder</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ICE/ICE4.html">ICE 4: Stoplight</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ICE/ICE5.html">ICE 5: Basic Elevator Controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ICE/ICE6.html">ICE 6: Time Division Multiplexor</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Labs</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="lab1.html">Lab 1 - ThirtyOneDayMonth</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Lab 2 - Seven Segment Display Decoder</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab3.html">Lab 3 - Thunderbird Turn Signal</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab4.html">Lab 4 - Moore Elevator Controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab5.html">Lab 5 - Basic CPU</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Homework</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../HW/HW6.html">HW 6 - Digital Schematics</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../appendix/github.html">GitHub real fast</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/vivado.html">Xilinx Vivado</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/usafa-ece/ece281-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/usafa-ece/ece281-book/issues/new?title=Issue%20on%20page%20%2Flab/lab2.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/lab/lab2.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Lab 2 - Seven Segment Display Decoder</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#objectives">Objectives</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#supplies">Supplies</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#collaboration">Collaboration</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#background">Background</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pre-lab">Pre-lab</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lab">Lab</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#setup-vivado-project">Setup Vivado Project</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#top-level-file">Top-level file</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#a-note-on-vs">A note on &lt;= vs. =&gt;</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seven-segment-display-decoder">Seven Segment Display Decoder</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sd-entity">7SD Entity</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sd-architecture">7SD Architecture</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#behavioral-vs-structural-modeling">Behavioral vs. Structural modeling</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#test-sevensegdecoder">Test sevenSegDecoder</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#complete-top-level">Complete top level</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#implement-in-hardware">Implement in hardware</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deliverables">Deliverables</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prelab">Prelab</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hardware-demo">Hardware demo</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#written-report">Written Report</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#git-and-github-actions">Git and GitHub Actions</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="lab-2-seven-segment-display-decoder">
<h1>Lab 2 - Seven Segment Display Decoder<a class="headerlink" href="#lab-2-seven-segment-display-decoder" title="Link to this heading">#</a></h1>
<p>Due: Lesson 17</p>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#overview" id="id1">Overview</a></p>
<ul>
<li><p><a class="reference internal" href="#objectives" id="id2">Objectives</a></p></li>
<li><p><a class="reference internal" href="#supplies" id="id3">Supplies</a></p></li>
<li><p><a class="reference internal" href="#collaboration" id="id4">Collaboration</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#background" id="id5">Background</a></p></li>
<li><p><a class="reference internal" href="#pre-lab" id="id6">Pre-lab</a></p></li>
<li><p><a class="reference internal" href="#lab" id="id7">Lab</a></p>
<ul>
<li><p><a class="reference internal" href="#setup-vivado-project" id="id8">Setup Vivado Project</a></p></li>
<li><p><a class="reference internal" href="#top-level-file" id="id9">Top-level file</a></p></li>
<li><p><a class="reference internal" href="#seven-segment-display-decoder" id="id10">Seven Segment Display Decoder</a></p></li>
<li><p><a class="reference internal" href="#sd-entity" id="id11">7SD Entity</a></p></li>
<li><p><a class="reference internal" href="#sd-architecture" id="id12">7SD Architecture</a></p></li>
<li><p><a class="reference internal" href="#test-sevensegdecoder" id="id13">Test sevenSegDecoder</a></p></li>
<li><p><a class="reference internal" href="#complete-top-level" id="id14">Complete top level</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#deliverables" id="id15">Deliverables</a></p>
<ul>
<li><p><a class="reference internal" href="#prelab" id="id16">Prelab</a></p></li>
<li><p><a class="reference internal" href="#hardware-demo" id="id17">Hardware demo</a></p></li>
<li><p><a class="reference internal" href="#written-report" id="id18">Written Report</a></p></li>
<li><p><a class="reference internal" href="#git-and-github-actions" id="id19">Git and GitHub Actions</a></p></li>
</ul>
</li>
</ul>
</nav>
<p><a class="reference external" href="https://github.com/USAFA-ECE/ece281-lab2">Lab 2 GitHub Repo</a></p>
<section id="overview">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Overview</a><a class="headerlink" href="#overview" title="Link to this heading">#</a></h2>
<p>In this lab you will implement the
<a class="reference external" href="https://en.wikipedia.org/wiki/Seven-segment_display">seven-segment display</a> decoder
in VHDL to display a hexadecimal digit. The hex digit will come from a
hardware-based binary to hex converter, which you will develop.</p>
<p>A four-bit value will be input using switches.
Upon pressing the center button, a seven-segment display will
output the correct hex digit, <a class="reference internal" href="#hex-of-switch"><span class="std std-numref">Fig. 34</span></a></p>
<figure class="align-default" id="hex-of-switch">
<img alt="../_images/lab2_image1.jpg" src="../_images/lab2_image1.jpg" />
<figcaption>
<p><span class="caption-number">Fig. 34 </span><span class="caption-text">Binary-to-hex displayed on seven-segment display</span><a class="headerlink" href="#hex-of-switch" title="Link to this image">#</a></p>
</figcaption>
</figure>
<section id="objectives">
<h3><a class="toc-backref" href="#id2" role="doc-backlink">Objectives</a><a class="headerlink" href="#objectives" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Develop a hardware-based binary to hex converter</p></li>
<li><p>Display switch value on seven-segment display</p></li>
</ol>
</section>
<section id="supplies">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">Supplies</a><a class="headerlink" href="#supplies" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Basys3 board</p></li>
</ul>
</section>
<section id="collaboration">
<h3><a class="toc-backref" href="#id4" role="doc-backlink">Collaboration</a><a class="headerlink" href="#collaboration" title="Link to this heading">#</a></h3>
<p>Your instructor will inform you if you can work in pairs or not. For all assignments in this course, unless
otherwise noted on the assignment, you may work with anyone. We expect
all graded work, to include code, lab notebooks, and written reports, to
be in your own work. Copying another person’s work, with or without
documentation, will result in NO academic credit. Furthermore, copying
without attribution is dishonorable and will be dealt with as an honor
code violation.</p>
</section>
</section>
<section id="background">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Background</a><a class="headerlink" href="#background" title="Link to this heading">#</a></h2>
<p>When creating simple embedded digital designs, a seven-segment display
is a common way to display numbers or simple letters to the end-user. In
this lab, you will design a seven-segment display decoder. This decoder
takes a 4-bit binary input, and produces 7 bits that indicate whether
each “segment” of the display is <strong>on</strong> (<code class="docutils literal notranslate"><span class="pre">0</span></code>) or <strong>off</strong> (<code class="docutils literal notranslate"><span class="pre">1</span></code>).</p>
<p>There are seven “segments” (labeled a – g, see <a class="reference internal" href="#seg-label"><span class="std std-numref">Fig. 35</span></a>) and one decimal point
(we will ignore the d.p. in this lab) in a seven-segment display.</p>
<figure class="align-default" id="seg-label">
<img alt="../_images/lab2_image2.png" src="../_images/lab2_image2.png" />
<figcaption>
<p><span class="caption-number">Fig. 35 </span><span class="caption-text">Labeled segments in display</span><a class="headerlink" href="#seg-label" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>On our Basys3 board an anode determines which of the displays are on,
while cathodes allow you to turn on each individual segment,
<a class="reference internal" href="#sd-anodes"><span class="std std-numref">Fig. 36</span></a></p>
<figure class="align-default" id="sd-anodes">
<img alt="../_images/lab2_image18.jpg" src="../_images/lab2_image18.jpg" />
<figcaption>
<p><span class="caption-number">Fig. 36 </span><span class="caption-text">Basys3 7SD cathodes and anodes.</span><a class="headerlink" href="#sd-anodes" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Said differently, you disable an entire display by connecting it to power, aka <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
<p>Placing a <code class="docutils literal notranslate"><span class="pre">0</span></code> on a segment will cause it to light up, while a <code class="docutils literal notranslate"><span class="pre">1</span></code> will keep the segment dark.
This is called “active low.”
For example, to display the number “0”, a logic <code class="docutils literal notranslate"><span class="pre">0</span></code> must be placed on segments <code class="docutils literal notranslate"><span class="pre">a</span></code>-<code class="docutils literal notranslate"><span class="pre">f</span></code>,
while segment <code class="docutils literal notranslate"><span class="pre">g</span></code> will be a logic <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
<p>In this way, you can display every hexadecimal digit:
“0” - “F” as shown in <a class="reference internal" href="#sd-digits"><span class="std std-numref">Fig. 37</span></a></p>
<figure class="align-default" id="sd-digits">
<img alt="../_images/lab2_image3.png" src="../_images/lab2_image3.png" />
<figcaption>
<p><span class="caption-number">Fig. 37 </span><span class="caption-text">Hexadecimal digits on a seven-segment display</span><a class="headerlink" href="#sd-digits" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="pre-lab">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Pre-lab</a><a class="headerlink" href="#pre-lab" title="Link to this heading">#</a></h2>
<p>First, complete the truth table for converting binary inputs to a hex output on the display.</p>
<p>Excel template is available on Teams!</p>
<p>Second, use this truth table to generate logic equations for each output.</p>
</section>
<section id="lab">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Lab</a><a class="headerlink" href="#lab" title="Link to this heading">#</a></h2>
<p>Now that you have Boolean equations established for each of your seven
segment outputs, it is time to implement them in hardware with VHDL!</p>
<section id="setup-vivado-project">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Setup Vivado Project</a><a class="headerlink" href="#setup-vivado-project" title="Link to this heading">#</a></h3>
<p>Due to issues with the automated build process in ICE3, we recommend manually creating a
Vivado project and then adding the source files manually.</p>
<ol class="arabic simple">
<li><p>Go to the <a class="reference external" href="https://github.com/USAFA-ECE/ece281-lab2">Lab 2 GitHub Repo</a></p></li>
<li><p>Click the green “Use this template” button -&gt; create a new repository.</p></li>
<li><p>Once your new repo is created, clone it into where you want it.</p></li>
<li><p>Open Vivado</p></li>
<li><p>Follow instructions in <a class="reference internal" href="../appendix/vivado.html#create-new-vivado-project"><span class="std std-ref">Create a new Vivado Project</span></a>. Suggested project name is <strong>binaryHexDisp</strong></p></li>
<li><p>Follow instructions in <a class="reference internal" href="../appendix/vivado.html#manual-add-to-vivado-project"><span class="std std-ref">Manually add files to Vivado Project</span></a> to add everything in <code class="docutils literal notranslate"><span class="pre">src/hdl/</span></code> to your project</p></li>
<li><p>Ensure your source hierarchy looks like you expect.</p></li>
</ol>
<blockquote>
<div><p>Edit the file headers as necessary. Then commit your changes with git.</p>
</div></blockquote>
</section>
<section id="top-level-file">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">Top-level file</a><a class="headerlink" href="#top-level-file" title="Link to this heading">#</a></h3>
<p>The functionality we are looking for is this:</p>
<pre  class="mermaid">
        flowchart LR
    binary([4-bit input]) --&gt; hex[Convert to hex]
    hex --&gt; button{Display active?}
    button --&gt; out[Display hex output]
    </pre><p>We have opted to use switches for our input and the seven segment display as our output.
A button press will activate the display.</p>
<p>In order to make this happen we need to use a top level design to wire our inputs and outputs
as well as some internal logic.
We will make the seven segment display an internal component - like we did with the half-adder in ICE3 -
since it is more complex and should be tested independently.</p>
<p>The repository you cloned and built has a top-level file already defined.
The schematic is shown in <a class="reference internal" href="#sd-top-level-schem"><span class="std std-numref">Fig. 38</span></a>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This diagram is mislabeled. Do not invert the vector between <code class="docutils literal notranslate"><span class="pre">o_S</span></code> and <code class="docutils literal notranslate"><span class="pre">seg</span></code>.
Just like your truth table, <code class="docutils literal notranslate"><span class="pre">s_G</span></code> should be the MSB.
New picture will be posed soon.</p>
</div>
<figure class="align-default" id="sd-top-level-schem">
<img alt="../_images/lab2_image19.png" src="../_images/lab2_image19.png" />
<figcaption>
<p><span class="caption-number">Fig. 38 </span><span class="caption-text">Top-level schematic</span><a class="headerlink" href="#sd-top-level-schem" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>You need to connect your 7SD component to four physical switches (sw)
and the seven cathodes (seg) of a seven-segment display (7SD).
Also wire a push button (btnC) to activate the 7SD by sending a <strong>low signal</strong> to the anode.
Since the button itself is active-high, an inverter is required.</p>
<p>The entity is provided for you, but you must complete the architecture.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The entity interface has been designed so that the port names match exactly
what the constraints file (<code class="docutils literal notranslate"><span class="pre">Basys3_Master.xdc</span></code>) is already using.</p>
</div>
<section id="a-note-on-vs">
<h4>A note on &lt;= vs. =&gt;<a class="headerlink" href="#a-note-on-vs" title="Link to this heading">#</a></h4>
<p>When connecting an input to a wire, the input must be on the right side.</p>
<p>In the below statement, <code class="docutils literal notranslate"><span class="pre">btnC</span></code> is the input and <code class="docutils literal notranslate"><span class="pre">w_7SD_EN_n</span></code> is
the wire connecting the button to the 7SD active-low enable pin:</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">w_7SD_EN_n</span><span class="w">  </span><span class="o">&lt;=</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="n">btnC</span><span class="p">;</span>
</pre></div>
</div>
<p>In this case, <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code> is an <strong>assignment statement</strong> and connects the button to a wire.</p>
<p>To connect the other end of the wire and enable the (anode) pin, you have to
use an <code class="docutils literal notranslate"><span class="pre">=&gt;</span></code> because the <code class="docutils literal notranslate"><span class="pre">=&gt;</span></code> is used for <strong>case statements</strong>, <strong>array assignments</strong>,
and component <strong>port mapping</strong>.</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">an</span><span class="w">  </span><span class="o">&lt;=</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">w_7SD_EN_n</span><span class="p">,</span><span class="w"> </span><span class="k">others</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="sc">&#39;1&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>In the above statement, the signal an is an <em>output</em>, so it must be on the left side.
We declared <code class="docutils literal notranslate"><span class="pre">an</span></code> earlier as a 4-bit vector. The right side is using the <code class="docutils literal notranslate"><span class="pre">()</span></code> aggregate operator
to concatenate bus signals; in this case, the LSB is assigned to <code class="docutils literal notranslate"><span class="pre">w_SD_EN_n</span></code>.
The keyword “others” refers to any bus signals not otherwise explicitly listed,
so it sets the other three bits to <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
<p>Another way to describe the above connections is as follows:</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">an</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w">    </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">w_7SD_EN_n</span><span class="p">;</span>
<span class="n">an</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w">   </span><span class="o">&lt;=</span><span class="w"> </span><span class="sc">&#39;1&#39;</span><span class="p">;</span>
<span class="n">an</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w">   </span><span class="o">&lt;=</span><span class="w"> </span><span class="sc">&#39;1&#39;</span><span class="p">;</span>
<span class="n">an</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w">   </span><span class="o">&lt;=</span><span class="w"> </span><span class="sc">&#39;1&#39;</span><span class="p">;</span>
</pre></div>
</div>
<blockquote>
<div><p>Follow the comments in <code class="docutils literal notranslate"><span class="pre">top_basys3.vhd</span></code> to complete the architecture.</p>
</div></blockquote>
</section>
</section>
<section id="seven-segment-display-decoder">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Seven Segment Display Decoder</a><a class="headerlink" href="#seven-segment-display-decoder" title="Link to this heading">#</a></h3>
<p>For better modularity, we will implement our seven segment display decoder as its own component.</p>
<p>We have provided a template file in Teams under <strong>Files &gt; Handouts and Resources &gt; Templates</strong>.</p>
<ol class="arabic simple">
<li><p>Save a copy of ECE_template.vhd as a file named <strong>sevenSegDecoder.vhd</strong> into your Lab2 <code class="docutils literal notranslate"><span class="pre">src/hdl/</span></code> folder.</p></li>
<li><p>Save a copy of ECE_template_tb.vhd as a file named <strong>sevenSegDecoder_tb.vhd</strong> into your Lab2 <code class="docutils literal notranslate"><span class="pre">src/hdl/</span></code> folder.</p></li>
<li><p>Add your sources to Vivado. Remember to leave “Copy sources into project” <strong>unchecked</strong>. See <a class="reference internal" href="../appendix/vivado.html#manual-add-to-vivado-project"><span class="std std-ref">Manually add files to Vivado Project</span></a></p></li>
</ol>
<p>Edit the file headers as needed.</p>
<ol class="arabic simple">
<li><p>Find and replace all instances of “ECE_template” with <code class="docutils literal notranslate"><span class="pre">sevenSegDecoder</span></code></p></li>
<li><p>Within Vivado, open one of your VHDL files and then type <code class="docutils literal notranslate"><span class="pre">CTRL+SHIFT+R</span></code> or click on Edit→Replace in Files</p></li>
<li><p>Fill in the find and replace text boxes as required. Make sure to check all of the sources you want to change:</p></li>
</ol>
<p><img alt="Find ECE_template and replace with sevenSegDecoder" src="../_images/lab2_image4.jpg" /></p>
<p>In the message area (bottom of Vivado screen) click “Replace All”</p>
<p><img alt="Replace All" src="../_images/lab2_image6.jpg" /></p>
</section>
<section id="sd-entity">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">7SD Entity</a><a class="headerlink" href="#sd-entity" title="Link to this heading">#</a></h3>
<p>How do we determine which should be out most signifigatn bit (MSB): <span class="math notranslate nohighlight">\(Sa\)</span> or <span class="math notranslate nohighlight">\(Sg\)</span>?
Fundamentally, <strong>we want to adhere to the constraints file.</strong>
Referencing <a class="reference external" href="https://digilent.com/reference/basys3/refmanual#basic_io">Basys3 I/O</a> <em>(this is a great page to know about!!!)</em>
and comparing it to <strong>Basys3_Master.xdc</strong> we can see that:</p>
<ul class="simple">
<li><p>The pin <code class="docutils literal notranslate"><span class="pre">W7</span></code> is connected to cathode <code class="docutils literal notranslate"><span class="pre">CA</span></code>, which we have called <code class="docutils literal notranslate"><span class="pre">sA</span></code>.</p></li>
<li><p>.xdc shows <code class="docutils literal notranslate"><span class="pre">PACKAGE_PIN</span> <span class="pre">W7</span> <span class="pre">[get_ports</span> <span class="pre">{seg[0]}]</span></code>, so <strong><code class="docutils literal notranslate"><span class="pre">sA</span></code> is the LSB</strong></p></li>
<li><p>The pin <code class="docutils literal notranslate"><span class="pre">U7</span></code> is connected to cathode <code class="docutils literal notranslate"><span class="pre">CG</span></code>, which we have called <code class="docutils literal notranslate"><span class="pre">sG</span></code>.</p></li>
<li><p>.xdc shows <code class="docutils literal notranslate"><span class="pre">PACKAGE_PIN</span> <span class="pre">U7</span> <span class="pre">[get_ports</span> <span class="pre">{seg[6]}]</span></code>, so <strong><code class="docutils literal notranslate"><span class="pre">sG</span></code> is the MSB</strong></p></li>
<li><p>This already corresponds with how our Prelab truth table is organized!</p></li>
</ul>
<blockquote>
<div><p>Create your interface (ports) for your sevenSegDecoder according to <a class="reference internal" href="#sd-entity-arch"><span class="std std-numref">Fig. 39</span></a></p>
</div></blockquote>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This diagram is mislabeled. c_Sa should be 0 and c_sG should be 6. New picture will be posed soon.</p>
</div>
<figure class="align-default" id="sd-entity-arch">
<img alt="../_images/lab2_image9.jpg" src="../_images/lab2_image9.jpg" />
<figcaption>
<p><span class="caption-number">Fig. 39 </span><span class="caption-text">sevenSegDecoder entity and architecture</span><a class="headerlink" href="#sd-entity-arch" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>The interface for the sevenSegDecoder entity is shown in blue and the architecture in purple.
The input, <code class="docutils literal notranslate"><span class="pre">i_D</span></code>, is a bus of four wires.
The output, <code class="docutils literal notranslate"><span class="pre">o_S</span></code>, is a bus of seven wires.</p>
<p>This can be created in VHDL by using a <strong>std_logic_vector</strong> signal type.
For instance, <code class="docutils literal notranslate"><span class="pre">i_D</span></code> could be created in the <strong>port</strong> statement with the following:</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">i_D</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">std_logic_vector</span><span class="p">(</span><span class="mi">3</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>Remember, the <code class="docutils literal notranslate"><span class="pre">i_</span></code> follows the naming convention provided in the header
that indicates the signal is an input. The statement above <code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">downto</span> <span class="pre">0</span></code>
indicates that BIT3 is the MSB and BIT0 is the LSB. You could easily
reverse this by swapping the locations of the two numbers.</p>
<p>To access each wire from the bus you created simply refer to the bit
number in parentheses. For instance, <code class="docutils literal notranslate"><span class="pre">i_D(3)</span></code> refers to the MSB of the
input, D.</p>
</section>
<section id="sd-architecture">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">7SD Architecture</a><a class="headerlink" href="#sd-architecture" title="Link to this heading">#</a></h3>
<p>After you have created your component interface, you need to describe
the architecture. <a class="reference internal" href="#sd-entity-arch"><span class="std std-numref">Fig. 39</span></a> shows that the output of
the combinational logic produces a signal for each 7SD segment (<code class="docutils literal notranslate"><span class="pre">c_Sa</span></code> …
<code class="docutils literal notranslate"><span class="pre">c_Sg</span></code>). These combinational signals (denoted by the <code class="docutils literal notranslate"><span class="pre">c_</span></code> at the
beginning) are wired to each bit of the output segment bus (<code class="docutils literal notranslate"><span class="pre">o_S</span></code>). The
bit numbers are labeled in the diagram. For instance, <code class="docutils literal notranslate"><span class="pre">BIT0</span></code> of <code class="docutils literal notranslate"><span class="pre">o_S</span></code> is
wired to <code class="docutils literal notranslate"><span class="pre">c_Sa</span></code>.</p>
<ul class="simple">
<li><p>For clarity, declare intermediate combinatorial signals (e.g., <code class="docutils literal notranslate"><span class="pre">c_Sa</span></code>) that break out output <code class="docutils literal notranslate"><span class="pre">S</span></code> and set them to a default value of <code class="docutils literal notranslate"><span class="pre">1</span></code> (off). This should be done <em>before</em> <strong>begin</strong>.</p></li>
<li><p>There are no PORT MAPS or PROCESSES needed for this module, so you can delete those sections.</p></li>
<li><p>In the CONCURRENT STATEMENTS section, map the output <code class="docutils literal notranslate"><span class="pre">S</span></code> to the signals you created above. For instance:</p></li>
</ul>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">o_S</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">c_Sa</span><span class="p">;</span>
</pre></div>
</div>
<section id="behavioral-vs-structural-modeling">
<h4>Behavioral vs. Structural modeling<a class="headerlink" href="#behavioral-vs-structural-modeling" title="Link to this heading">#</a></h4>
<p>There are two basic philosophies for modeling digital architectures:</p>
<ul class="simple">
<li><p><strong>structural</strong> describes <em>how</em> the module would be composed as a hierarchy of simpler modules.</p></li>
<li><p><strong>behavioral</strong> describes <em>what</em> the logic does in terms of inputs and outputs.</p></li>
</ul>
<p>We will be using behavioral modeling in this lab.</p>
<p>For instance, you could derive the simplified Boolean expression:</p>
<div class="math notranslate nohighlight">
\[
Sa = (D3')(D2')(D1')(D0) + (D3)(D2')(D1)(D0) + (D2)(D1')(D0') + (D3)(D2)(D1')
\]</div>
<p>This could then be implemented <em>behaviorally</em> with the following VHDL
code:</p>
<p><img alt="behavioral equation" src="../_images/lab2_image15.jpg" /></p>
<p>Notice that the logic for the intermediate signal <code class="docutils literal notranslate"><span class="pre">c_Sa</span></code> is described in
terms of AND, NOT, and OR gates. Also notice that the statement spans
multiple lines and is ended by a semicolon. It is helpful to break
statements like this into multiple lines so that they are easier to
read. Each implicant from the simplified Boolean expression has its own
line and is surrounded by parentheses (use SPACE to make it more
readable).</p>
<p>There are many ways to describe a behavioral model, however. Contrast
the above behavioral model with the following one:</p>
<p><img alt="behavioral truth table" src="../_images/lab2_image16.jpg" /></p>
<p>The behavioral model describes the logic just like the truth table. In
this case, it essentially creates a lookup table (LUT) where the ‘1’s
are identified, and everything else is ‘0’. Note, how using a
<strong>std_logic_vector</strong> for <code class="docutils literal notranslate"><span class="pre">i_D</span></code> allows us to compare the input to a 4-bit
hex value(denoted by the ‘x’) instead of comparing all of the individual
bits. This is one of the advantages of using that signal type.</p>
<blockquote>
<div><p>Now that you have an understanding of how to implement behavioral models
in VHDL, implement all seven of your outputs for sevenSegDecoder.</p>
</div></blockquote>
<ul class="simple">
<li><p>Use behavioral modeling with AND, NOT, and OR gates for at least two of them.</p></li>
<li><p>Use behavioral modeling with a LUT for at least two of them.</p></li>
<li><p>Which model method do you think is easier to use for implementing your outputs?</p></li>
<li><p>Implement the remaining outputs with your preferred choice.</p></li>
</ul>
</section>
</section>
<section id="test-sevensegdecoder">
<h3><a class="toc-backref" href="#id13" role="doc-backlink">Test sevenSegDecoder</a><a class="headerlink" href="#test-sevensegdecoder" title="Link to this heading">#</a></h3>
<p>If you skipped the part above about bringing in the <strong>ECE_template_tb.vhd</strong>,
do it now.</p>
<ol class="arabic simple">
<li><p>Copy in the port information for your sevenSegDecoder component.</p></li>
<li><p>Declare a bus (std_logic_vector) or series of signals for the switch inputs.</p></li>
<li><p>Declare a signal vector to connect to the segment outputs (e.g., <code class="docutils literal notranslate"><span class="pre">w_seg</span></code>) from your component</p></li>
<li><p>Port map your component instance to the wires you creates for the
switches and the 7SD segments.</p></li>
</ol>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The keyword <strong>OPEN</strong> can be used if you prefer to not wire a port to
something (e.g., you will read or manipulate the ports directly in
your simulation)</p>
</div>
<ol class="arabic simple" start="5">
<li><p>Create your test plan process. Remember, you can use hex values with
busses, such as <code class="docutils literal notranslate"><span class="pre">sw</span> <span class="pre">&lt;=</span> <span class="pre">x&quot;F&quot;</span></code>.</p></li>
<li><p>Add enough assert statements to cover the truth table.</p></li>
<li><p>Fix any syntax errors, and run the simulation.</p></li>
</ol>
<p>If <strong>sevenSegDecoder_tb</strong> is not set as the top of your simulation hierarchy,
right click on it and choose “Set as top.”</p>
<blockquote>
<div><p>Make sure the simulation results match your Prelab truth table, and
then <strong>take a waveform screenshot for your report</strong>.</p>
</div></blockquote>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>You may need to reverse the order to make your sim match the truth table:
(right click-&gt; Reverse Bit Order).</p>
</div>
</section>
<section id="complete-top-level">
<h3><a class="toc-backref" href="#id14" role="doc-backlink">Complete top level</a><a class="headerlink" href="#complete-top-level" title="Link to this heading">#</a></h3>
<p>The top level VHDL file is what connects your component to the Basys3
development board. <a class="reference internal" href="#sd-top-level-schem"><span class="std std-numref">Fig. 38</span></a> is shown again below.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This diagram is mislabeled. Do not invert the vector between <code class="docutils literal notranslate"><span class="pre">o_S</span></code> and <code class="docutils literal notranslate"><span class="pre">seg</span></code>.
Just like your truth table, <code class="docutils literal notranslate"><span class="pre">s_G</span></code> should be the MSB.
New picture will be posed soon.</p>
</div>
<p><img alt="top_basys3" src="../_images/lab2_image19.png" /></p>
<p>As can be seen in the figure, you need to connect your 7SD
component to four physical switches (<code class="docutils literal notranslate"><span class="pre">sw</span></code>) and the seven cathodes (<code class="docutils literal notranslate"><span class="pre">seg</span></code>) of
a seven-segment display (7SD).</p>
<p>You also need to wire a push button (<code class="docutils literal notranslate"><span class="pre">btnC</span></code>) so that it can be used to activate the 7SD by sending a <strong>low signal</strong> to the anode. As discussed in the Background <a class="reference internal" href="#sd-anodes"><span class="std std-numref">Fig. 36</span></a> the anode determines which of the displays are on, while the cathodes allow you to turn on each individual segment.</p>
<p>Since the button itself is active-high, an inverter is required. The
other 7SDs (display 3, 2, and 1) are disabled by connecting them to
power.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The entity interface has been designed so that the port names match exactly what the constraints file (Basys3_Master.xdc) is already using.</p>
<p>You simply need to uncomment the lines in Basys3_Master.xdc that you need to use.</p>
</div>
<blockquote>
<div><p>Use the provided top_basys3.vhd file to complete the top level architecture.</p>
</div></blockquote>
<p>After you finish, your source hierarchy should look something like this:</p>
<p><img alt="binaryHexDisp Source Hierarchy" src="../_images/lab2_source_hierarchy.png" /></p>
<section id="implement-in-hardware">
<h4>Implement in hardware<a class="headerlink" href="#implement-in-hardware" title="Link to this heading">#</a></h4>
<p>Synthesize and implement your design.</p>
<blockquote>
<div><p>Look at the RTL schematic:
In RTL Analysis in the Flow&gt; Navigator on the left side of the window.</p>
</div></blockquote>
<ul class="simple">
<li><p>Is this what you expect? Did Vivado implement the circuit like you thought it would?</p></li>
<li><p>Double click on the sevenSegDecoder component. Did Vivado implement
the circuit like you thought it would?</p></li>
</ul>
<p>Generate the bitstream (.bit) file and download it to your FPGA.
Verify the hardware functions as expected; <strong>demo to your instructor</strong>.</p>
<blockquote>
<div><p>Commit the bitstream to your repo</p>
</div></blockquote>
</section>
</section>
</section>
<section id="deliverables">
<h2><a class="toc-backref" href="#id15" role="doc-backlink">Deliverables</a><a class="headerlink" href="#deliverables" title="Link to this heading">#</a></h2>
<p>Below are the deliverables and point distributions for the Lab 2:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Deliverable</p></th>
<th class="head"><p>Points</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Prelab</p></td>
<td><p>15</p></td>
</tr>
<tr class="row-odd"><td><p>Hardware Demo</p></td>
<td><p>30</p></td>
</tr>
<tr class="row-even"><td><p>Written Report</p></td>
<td><p>30</p></td>
</tr>
<tr class="row-odd"><td><p>Passing Gradescope</p></td>
<td><p>25</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Documentation statements</strong> will be submitted on Gradescope.</p>
<section id="prelab">
<h3><a class="toc-backref" href="#id16" role="doc-backlink">Prelab</a><a class="headerlink" href="#prelab" title="Link to this heading">#</a></h3>
<p>See instructions at the top of this lab.
Submit on Gradescope.</p>
</section>
<section id="hardware-demo">
<h3><a class="toc-backref" href="#id17" role="doc-backlink">Hardware demo</a><a class="headerlink" href="#hardware-demo" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>You have to hold the center push button down for a 7SD to show your output. (10 pts)</p></li>
<li><p>The correct hex digit is shown based on the switch positions for all input possibilities. (20 pts)</p></li>
</ul>
<p>Demo can be performed live with an instructor (preferred) OR submitted via Teams</p>
</section>
<section id="written-report">
<h3><a class="toc-backref" href="#id18" role="doc-backlink">Written Report</a><a class="headerlink" href="#written-report" title="Link to this heading">#</a></h3>
<p>Rubric and template on Teams. Submit on Gradescope.</p>
</section>
<section id="git-and-github-actions">
<h3><a class="toc-backref" href="#id19" role="doc-backlink">Git and GitHub Actions</a><a class="headerlink" href="#git-and-github-actions" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>sevenSegDecoder.vhd, sevenSegDecoder_tb.vhd, and top_basys3.vhd included in <code class="docutils literal notranslate"><span class="pre">src/hdl/</span></code></p></li>
<li><p>Extraneous comments are removed and code is formatted in a sane manner</p></li>
<li><p>Basys3_Master.xdc file included in <code class="docutils literal notranslate"><span class="pre">src/hdl/</span></code></p></li>
<li><p>Bitstream (.bit) file used for hardware demo in repo (in default location)</p></li>
<li><p>Commit messages are useful in tracing the development of the project</p></li>
</ul>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./lab"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="lab1.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Lab 1 - ThirtyOneDayMonth</p>
      </div>
    </a>
    <a class="right-next"
       href="lab3.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Lab 3 - Thunderbird Turn Signal</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#objectives">Objectives</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#supplies">Supplies</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#collaboration">Collaboration</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#background">Background</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pre-lab">Pre-lab</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lab">Lab</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#setup-vivado-project">Setup Vivado Project</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#top-level-file">Top-level file</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#a-note-on-vs">A note on &lt;= vs. =&gt;</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seven-segment-display-decoder">Seven Segment Display Decoder</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sd-entity">7SD Entity</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sd-architecture">7SD Architecture</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#behavioral-vs-structural-modeling">Behavioral vs. Structural modeling</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#test-sevensegdecoder">Test sevenSegDecoder</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#complete-top-level">Complete top level</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#implement-in-hardware">Implement in hardware</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deliverables">Deliverables</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prelab">Prelab</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hardware-demo">Hardware demo</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#written-report">Written Report</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#git-and-github-actions">Git and GitHub Actions</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By DFEC
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>